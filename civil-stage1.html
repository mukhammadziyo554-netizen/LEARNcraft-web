<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#000000">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>Stage 1 — Foundations | LEARNcraft</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link rel="stylesheet" href="style.css">
</head>
<body class="dark">

<header class="topbar">LEARNcraft</header>

<section class="hero small">
  <h1>Stage 1 — Foundations</h1>
  <p>Math, physics, and engineering basics required for civil studies.</p>
  <button class="start-stage-btn" onclick="startStage()">START STAGE & TRACK PROGRESS</button>
</section>

<section id="progressSection" class="hidden">

  <div class="progress-stats">
    <div>Weekly Completion: <span id="weeklyPercent">0%</span></div>
    <div>Stage Progress: <span id="stagePercent">0%</span></div>
    <div>Study Streak: <span id="streakCount">0</span> days</div>
  </div>

  <div class="progress-bar">
    <div id="progressFill"></div>
  </div>

  <table class="tracker-table">
    <tr>
      <th>Task</th>
      <th>Mon</th><th>Tue</th><th>Wed</th>
      <th>Thu</th><th>Fri</th><th>Sat</th><th>Sun</th>
    </tr>

    <tr>
      <td>Study Algebra</td>
      <td><input type="checkbox"></td><td><input type="checkbox"></td><td><input type="checkbox"></td>
      <td><input type="checkbox"></td><td><input type="checkbox"></td><td><input type="checkbox"></td><td><input type="checkbox"></td>
    </tr>

    <tr>
      <td>Physics Basics</td>
      <td><input type="checkbox"></td><td><input type="checkbox"></td><td><input type="checkbox"></td>
      <td><input type="checkbox"></td><td><input type="checkbox"></td><td><input type="checkbox"></td><td><input type="checkbox"></td>
    </tr>

    <tr>
      <td>Watch Lesson</td>
      <td><input type="checkbox"></td><td><input type="checkbox"></td><td><input type="checkbox"></td>
      <td><input type="checkbox"></td><td><input type="checkbox"></td><td><input type="checkbox"></td><td><input type="checkbox"></td>
    </tr>

    <tr>
      <td>Solve Problems</td>
      <td><input type="checkbox"></td><td><input type="checkbox"></td><td><input type="checkbox"></td>
      <td><input type="checkbox"></td><td><input type="checkbox"></td><td><input type="checkbox"></td><td><input type="checkbox"></td>
    </tr>

    <tr>
      <td>Ask AI Questions</td>
      <td><input type="checkbox"></td><td><input type="checkbox"></td><td><input type="checkbox"></td>
      <td><input type="checkbox"></td><td><input type="checkbox"></td><td><input type="checkbox"></td><td><input type="checkbox"></td>
    </tr>
  </table>

</section>

<script>
  if (typeof TelegramWebApp !== 'undefined') {
    const tg = window.Telegram.WebApp;
    tg.ready();
    tg.setHeaderColor('#000000');
    tg.setBackgroundColor('#000000');
    tg.MainButton.hide();
  }

  function startStage() {
    document.getElementById("progressSection").classList.remove("hidden");
  }

  const checkboxes = document.querySelectorAll("input[type='checkbox']");
  checkboxes.forEach(cb => cb.addEventListener("change", updateProgress));

  function updateProgress() {
    const total = checkboxes.length;
    let checked = 0;
    checkboxes.forEach(cb => { if (cb.checked) checked++; });

    const percent = Math.round((checked / total) * 100);

    document.getElementById("stagePercent").textContent = percent + "%";
    document.getElementById("weeklyPercent").textContent = percent + "%";
    document.getElementById("progressFill").style.width = percent + "%";
  }
</script>

</body>
</html>
